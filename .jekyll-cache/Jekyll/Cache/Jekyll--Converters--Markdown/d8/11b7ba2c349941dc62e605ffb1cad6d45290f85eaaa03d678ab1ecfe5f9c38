I"<p>Telematics is a collection of sensor data such as accelerometer data, gyroscope data, and GPS data that a driverâ€™s mobile phone provides, and we collect, during the ride. With this information, we apply data science logic to detect traffic events such as harsh braking, acceleration, cornering, and unsafe lane changes, in order to help improve our consumersâ€™ ride experience.</p>

<h2 id="introduction">Introduction</h2>

<p>As Grab grows to meet our consumersâ€™ needs, the number of driver-partners has also grown. This requires us to ensure that our consumersâ€™ safety continues to remain the highest priority as we scale. We developed an in-house telematics engine which uses mobile phone sensors to determine, evaluate, and quantify the driving behaviour of our driver-partners. This telemetry data is then evaluated and gives us better insights into our driver-partnersâ€™ driving patterns.</p>

<p>Through our data, we hope to improve our driver-partnersâ€™ driving habits and reduce the likelihood of driving-related incidents on our platform. This telemetry data also helps us determine optimal insurance premiums for driver-partners with risky driving patterns and reward driver-partners who have better driving habits.</p>

<p>In addition, we also merge telematics data with spatial data to further identify areas where dangerous driving manoeuvres happen frequently. This data is used to inform our driver-partners to be alert and drive more safely in such areas.</p>

<h2 id="background">Background</h2>

<p>With more consumers using the Grab app, we realised that purely relying on passenger feedback is not enough; we had no definitive way to tell which driver-partners were actually driving safely, when they deviated from their routes or even if they had been involved in an accident.</p>

<p>To help address these issues, we developed an in-house telematics engine that analyses telemetry data, identifies driver-partnersâ€™ driving behaviour and habits, and provides safety reports for them.</p>

<h3 id="architecture-details">Architecture details</h3>

<div class="post-image-section"><figure>
  <img src="/img/telematics/image2.png" alt="Real time ingestion architecture" style="width:60%" />
  </figure>
</div>

<p>As shown in the diagram, our telematics SDK receives raw sensor data from our driver-partnersâ€™ devices and processes it in two ways:</p>

<ol>
  <li>On-device processing for crash detection: Used to determine situations such as if the driver-partner has been in an accident.</li>
  <li>Raising traffic events and generating safety reports after each job: Useful for detecting events like speeding and harsh braking.</li>
</ol>

<p>Note: Safety reports are generated by our backend service using sensor dataÂ that is only uploaded as a text file afterÂ each ride.</p>

<h3 id="implementation">Implementation</h3>

<p>Our telematics framework relies on accelerometer, gyroscope and GPS sensors within the mobile device to infer the vehicleâ€™s driving parameters. Both accelerometer and gyroscope are triaxial sensors, and their respective measurements are in the mobile deviceâ€™s frame of reference.</p>

<p>That being said, the data collected from these sensors have no fixed sample rate, so we need to implement sensor data time synchronisation. For example, there will be temporal misalignment between gyroscope and accelerometer data if they do not share the same timestamp. The sample rate that comes from the accelerometer and gyroscope alsoÂ varies independently.Â Therefore, we need to uniformly sample the sensor data to be at the same frequency rate.</p>

<p>This synchronisation process is done in two steps:</p>

<ol>
  <li>Interpolation to uniform time grid at a reasonably higher frequency.</li>
  <li>Decimation from the higher frequency to the output data rate for accelerometer and gyroscope data.</li>
</ol>

<p>We then use the <a href="https://betterexplained.com/articles/an-interactive-guide-to-the-fourier-transform/">Fourier Transform</a>Â to transform a signal from time domain to frequency domain for compression. These components are then written to a text file on the mobile device, compressed, and uploaded after the end of each ride.</p>

<h2 id="learningsconclusion">Learnings/Conclusion</h2>

<p>There are a few takeaways that we learned from this project:</p>

<ul>
  <li>Sensor data frequency: There are many device manufacturers out there for Android and each one of them has a different sensor chipset. The frequency of the sensor data may vary from device to device.</li>
  <li>Four-wheel (4W) vs two-wheel (2W): The behaviour is different for a driver-partner on 2W vs 4W, so we need different rules for each.</li>
  <li>Hardware axis-bias: The device may not be aligned with the vehicle during the ride. It cannot be assumed that the phone will remain in a fixed orientation throughout the trip, so the mobile device sensors might not accurately measure the acceleration/braking or sharp turning of the vehicle.</li>
  <li>Sensor noise: There are artifacts in sensor readings, which are basically a single outlier event that represents an error and is not a valid sensor reading.</li>
  <li>Time-synchronisation: GPS, accelerometer, and gyroscope events are captured independently by three different sensors and have different time formats. These events will need to be transformed into the same time grid in order to work together. For example, the GPS location from 30 seconds prior to the gyroscope event will not work as they are out of sync.</li>
  <li>Data compression and network consumption: Longer rides will contain more telematics data. Â It will result in a bigger upload size and increase in time for file compression.</li>
</ul>

<h2 id="whats-next">Whatâ€™s next?</h2>

<p>There are a few milestones that we want to accomplish with our telematics framework in the future. However, our number one goal is to extend telematics to all bookings across Grab verticals. We are also planning to add more on-device rules and data processing for event detections to further eliminate future delays from backend communication for crash detection.</p>

<p>With the data from our telematics framework, we can improve our passengersâ€™ experience and improve safety for both passengers and driver-partners.</p>

<h2 id="join-us">Join us</h2>
<p>Grab is a leading superapp in Southeast Asia, providing everyday services that matter to consumers. More than just a ride-hailing and food delivery app, Grab offers a wide range of on-demand services in the region, including mobility, food, package and grocery delivery services, mobile payments, and financial services across over 400 cities in eight countries.</p>

<p>Powered by technology and driven by heart, our mission is to drive Southeast Asia forward by creating economic empowerment for everyone. If this mission speaks to you, <a href="https://grab.careers/">join our team</a> today!</p>
:ET